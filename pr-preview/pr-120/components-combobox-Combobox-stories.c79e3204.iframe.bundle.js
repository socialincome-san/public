"use strict";(self.webpackChunk_socialincome_ui=self.webpackChunk_socialincome_ui||[]).push([[101],{"./src/components/combobox/Combobox.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Standard:()=>Standard,WithImages:()=>WithImages,__namedExportsOrder:()=>__namedExportsOrder,default:()=>Combobox_stories});__webpack_require__("../node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("../node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("../node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("../node_modules/core-js/modules/es.symbol.js"),__webpack_require__("../node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("../node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("../node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("../node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("../node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("../node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("../node_modules/core-js/modules/es.function.name.js"),__webpack_require__("../node_modules/core-js/modules/es.array.from.js");var react=__webpack_require__("../node_modules/react/index.js"),use_computed=(__webpack_require__("../node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("../node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("../node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("../node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("../node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("../node_modules/core-js/modules/es.array.map.js"),__webpack_require__("../node_modules/@headlessui/react/dist/hooks/use-computed.js")),use_disposables=__webpack_require__("../node_modules/@headlessui/react/dist/hooks/use-disposables.js"),use_event=__webpack_require__("../node_modules/@headlessui/react/dist/hooks/use-event.js"),use_id=__webpack_require__("../node_modules/@headlessui/react/dist/hooks/use-id.js"),use_iso_morphic_effect=__webpack_require__("../node_modules/@headlessui/react/dist/hooks/use-iso-morphic-effect.js"),use_latest_value=__webpack_require__("../node_modules/@headlessui/react/dist/hooks/use-latest-value.js"),use_outside_click=__webpack_require__("../node_modules/@headlessui/react/dist/hooks/use-outside-click.js"),use_resolve_button_type=__webpack_require__("../node_modules/@headlessui/react/dist/hooks/use-resolve-button-type.js"),use_sync_refs=__webpack_require__("../node_modules/@headlessui/react/dist/hooks/use-sync-refs.js"),owner=__webpack_require__("../node_modules/@headlessui/react/dist/utils/owner.js");var calculate_active_index=__webpack_require__("../node_modules/@headlessui/react/dist/utils/calculate-active-index.js"),disposables=__webpack_require__("../node_modules/@headlessui/react/dist/utils/disposables.js"),render=__webpack_require__("../node_modules/@headlessui/react/dist/utils/render.js"),bugs=__webpack_require__("../node_modules/@headlessui/react/dist/utils/bugs.js"),match=__webpack_require__("../node_modules/@headlessui/react/dist/utils/match.js"),utils_form=__webpack_require__("../node_modules/@headlessui/react/dist/utils/form.js"),focus_management=__webpack_require__("../node_modules/@headlessui/react/dist/utils/focus-management.js"),internal_hidden=__webpack_require__("../node_modules/@headlessui/react/dist/internal/hidden.js"),open_closed=__webpack_require__("../node_modules/@headlessui/react/dist/internal/open-closed.js"),keyboard=__webpack_require__("../node_modules/@headlessui/react/dist/components/keyboard.js"),use_controllable=__webpack_require__("../node_modules/@headlessui/react/dist/hooks/use-controllable.js");var a,n,De=((n=De||{})[n.Open=0]="Open",n[n.Closed=1]="Closed",n),Le=(n=>(n[n.Single=0]="Single",n[n.Multi=1]="Multi",n))(Le||{}),Ve=(n=>(n[n.Pointer=0]="Pointer",n[n.Other=1]="Other",n))(Ve||{}),Me=((a=Me||{})[a.OpenCombobox=0]="OpenCombobox",a[a.CloseCombobox=1]="CloseCombobox",a[a.GoToOption=2]="GoToOption",a[a.RegisterOption=3]="RegisterOption",a[a.UnregisterOption=4]="UnregisterOption",a[a.RegisterLabel=5]="RegisterLabel",a);function $(t,l=(n=>n)){let n=null!==t.activeOptionIndex?t.options[t.activeOptionIndex]:null,e=(0,focus_management.z2)(l(t.options.slice()),(r=>r.dataRef.current.domRef.current)),i=n?e.indexOf(n):null;return-1===i&&(i=null),{options:e,activeOptionIndex:i}}let he={1:t=>t.dataRef.current.disabled||1===t.comboboxState?t:{...t,activeOptionIndex:null,comboboxState:1},0(t){if(t.dataRef.current.disabled||0===t.comboboxState)return t;let l=t.activeOptionIndex,{isSelected:n}=t.dataRef.current,e=t.options.findIndex((i=>n(i.dataRef.current.value)));return-1!==e&&(l=e),{...t,comboboxState:0,activeOptionIndex:l}},2(t,l){var i;if(t.dataRef.current.disabled||t.dataRef.current.optionsRef.current&&!t.dataRef.current.optionsPropsRef.current.static&&1===t.comboboxState)return t;let n=$(t);if(null===n.activeOptionIndex){let r=n.options.findIndex((a=>!a.dataRef.current.disabled));-1!==r&&(n.activeOptionIndex=r)}let e=(0,calculate_active_index.d)(l,{resolveItems:()=>n.options,resolveActiveIndex:()=>n.activeOptionIndex,resolveId:r=>r.id,resolveDisabled:r=>r.dataRef.current.disabled});return{...t,...n,activeOptionIndex:e,activationTrigger:null!=(i=l.trigger)?i:1}},3:(t,l)=>{let n={id:l.id,dataRef:l.dataRef},e=$(t,(r=>[...r,n]));null===t.activeOptionIndex&&t.dataRef.current.isSelected(l.dataRef.current.value)&&(e.activeOptionIndex=e.options.indexOf(n));let i={...t,...e,activationTrigger:1};return t.dataRef.current.__demoMode&&void 0===t.dataRef.current.value&&(i.activeOptionIndex=0),i},4:(t,l)=>{let n=$(t,(e=>{let i=e.findIndex((r=>r.id===l.id));return-1!==i&&e.splice(i,1),e}));return{...t,...n,activationTrigger:1}},5:(t,l)=>({...t,labelId:l.id})},J=(0,react.createContext)(null);function N(t){let l=(0,react.useContext)(J);if(null===l){let n=new Error(`<${t} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,N),n}return l}J.displayName="ComboboxActionsContext";let q=(0,react.createContext)(null);function w(t){let l=(0,react.useContext)(q);if(null===l){let n=new Error(`<${t} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,w),n}return l}function Fe(t,l){return(0,match.E)(l.type,he,t,l)}q.displayName="ComboboxDataContext";let _e=react.Fragment;let we=(0,render.yV)((function ke(t,l){let{value:n,defaultValue:e,onChange:i,name:r,by:a=((b,f)=>b===f),disabled:m=!1,__demoMode:o=!1,nullable:u=!1,multiple:y=!1,...O}=t,[x,C]=(0,use_controllable.q)(n,i,e),[c,s]=(0,react.useReducer)(Fe,{dataRef:(0,react.createRef)(),comboboxState:o?0:1,options:[],activeOptionIndex:null,activationTrigger:1,labelId:null}),T=(0,react.useRef)(!1),B=(0,react.useRef)({static:!1,hold:!1}),L=(0,react.useRef)(null),I=(0,react.useRef)(null),V=(0,react.useRef)(null),d=(0,react.useRef)(null),A=(0,use_event.z)("string"==typeof a?(b,f)=>{let S=a;return(null==b?void 0:b[S])===(null==f?void 0:f[S])}:a),M=(0,react.useCallback)((b=>(0,match.E)(p.mode,{1:()=>x.some((f=>A(f,b))),0:()=>A(x,b)})),[x]),p=(0,react.useMemo)((()=>({...c,optionsPropsRef:B,labelRef:L,inputRef:I,buttonRef:V,optionsRef:d,value:x,disabled:m,mode:y?1:0,get activeOptionIndex(){if(T.current&&null===c.activeOptionIndex&&c.options.length>0){let b=c.options.findIndex((f=>!f.dataRef.current.disabled));if(-1!==b)return b}return c.activeOptionIndex},compare:A,isSelected:M,nullable:u,__demoMode:o})),[x,m,y,u,o,c]);(0,use_iso_morphic_effect.e)((()=>{c.dataRef.current=p}),[p]),(0,use_outside_click.O)([p.buttonRef,p.inputRef,p.optionsRef],(()=>s({type:1})),0===p.comboboxState);let h=(0,react.useMemo)((()=>({open:0===p.comboboxState,disabled:m,activeIndex:p.activeOptionIndex,activeOption:null===p.activeOptionIndex?null:p.options[p.activeOptionIndex].dataRef.current.value,value:x})),[p,m,x]),H=(0,use_event.z)((b=>{let f=p.options.find((S=>S.id===b));!f||K(f.dataRef.current.value)})),oe=(0,use_event.z)((()=>{if(null!==p.activeOptionIndex){let{dataRef:b,id:f}=p.options[p.activeOptionIndex];K(b.current.value),s({type:2,focus:calculate_active_index.T.Specific,id:f})}})),te=(0,use_event.z)((()=>{s({type:0}),T.current=!0})),ne=(0,use_event.z)((()=>{s({type:1}),T.current=!1})),re=(0,use_event.z)(((b,f,S)=>(T.current=!1,b===calculate_active_index.T.Specific?s({type:2,focus:calculate_active_index.T.Specific,id:f,trigger:S}):s({type:2,focus:b,trigger:S})))),ae=(0,use_event.z)(((b,f)=>(s({type:3,id:b,dataRef:f}),()=>s({type:4,id:b})))),le=(0,use_event.z)((b=>(s({type:5,id:b}),()=>s({type:5,id:null})))),K=(0,use_event.z)((b=>(0,match.E)(p.mode,{0:()=>null==C?void 0:C(b),1(){let f=p.value.slice(),S=f.findIndex((pe=>A(pe,b)));return-1===S?f.push(b):f.splice(S,1),null==C?void 0:C(f)}}))),ie=(0,react.useMemo)((()=>({onChange:K,registerOption:ae,registerLabel:le,goToOption:re,closeCombobox:ne,openCombobox:te,selectActiveOption:oe,selectOption:H})),[]),ue=null===l?{}:{ref:l};return react.createElement(J.Provider,{value:ie},react.createElement(q.Provider,{value:p},react.createElement(open_closed.up,{value:(0,match.E)(p.comboboxState,{0:open_closed.ZM.Open,1:open_closed.ZM.Closed})},null!=r&&null!=x&&(0,utils_form.t)({[r]:x}).map((([b,f])=>react.createElement(internal_hidden._,{features:internal_hidden.A.Hidden,...(0,render.oA)({key:b,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:b,value:f})}))),(0,render.sY)({ourProps:ue,theirProps:O,slot:h,defaultTag:_e,name:"Combobox"}))))})),Ue=(0,render.yV)((function(l,n){var I,V;let{value:e,onChange:i,displayValue:r,type:a="text",...m}=l,o=w("Combobox.Input"),u=N("Combobox.Input"),y=(0,use_sync_refs.T)(o.inputRef,n),O=`headlessui-combobox-input-${(0,use_id.M)()}`,x=(0,use_disposables.G)();!function use_watch_m(u,t){let e=(0,react.useRef)([]),r=(0,use_event.z)(u);(0,react.useEffect)((()=>{let o=[...e.current];for(let[n,a]of t.entries())if(e.current[n]!==a){let l=r(t,o);return e.current=t,l}}),[r,...t])}((([d,A],[M,p])=>{!o.inputRef.current||(0===p&&1===A||d!==M)&&(o.inputRef.current.value=d)}),[(0,react.useMemo)((()=>{var d;return"function"==typeof r?null!=(d=r(o.value))?d:"":"string"==typeof o.value?o.value:""}),[o.value]),o.comboboxState]);let c=(0,use_event.z)((d=>{switch(d.key){case keyboard.R.Backspace:case keyboard.R.Delete:if(0!==o.mode||!o.nullable)return;let A=d.currentTarget;x.requestAnimationFrame((()=>{""===A.value&&(u.onChange(null),o.optionsRef.current&&(o.optionsRef.current.scrollTop=0),u.goToOption(calculate_active_index.T.Nothing))}));break;case keyboard.R.Enter:if(0!==o.comboboxState||d.nativeEvent.isComposing)return;if(d.preventDefault(),d.stopPropagation(),null===o.activeOptionIndex)return void u.closeCombobox();u.selectActiveOption(),0===o.mode&&u.closeCombobox();break;case keyboard.R.ArrowDown:return d.preventDefault(),d.stopPropagation(),(0,match.E)(o.comboboxState,{0:()=>{u.goToOption(calculate_active_index.T.Next)},1:()=>{u.openCombobox()}});case keyboard.R.ArrowUp:return d.preventDefault(),d.stopPropagation(),(0,match.E)(o.comboboxState,{0:()=>{u.goToOption(calculate_active_index.T.Previous)},1:()=>{u.openCombobox(),x.nextFrame((()=>{o.value||u.goToOption(calculate_active_index.T.Last)}))}});case keyboard.R.Home:case keyboard.R.PageUp:return d.preventDefault(),d.stopPropagation(),u.goToOption(calculate_active_index.T.First);case keyboard.R.End:case keyboard.R.PageDown:return d.preventDefault(),d.stopPropagation(),u.goToOption(calculate_active_index.T.Last);case keyboard.R.Escape:return 0!==o.comboboxState?void 0:(d.preventDefault(),o.optionsRef.current&&!o.optionsPropsRef.current.static&&d.stopPropagation(),u.closeCombobox());case keyboard.R.Tab:if(0!==o.comboboxState)return;0===o.mode&&u.selectActiveOption(),u.closeCombobox()}})),s=(0,use_event.z)((d=>{u.openCombobox(),null==i||i(d)})),T=(0,use_computed.v)((()=>{if(o.labelId)return[o.labelId].join(" ")}),[o.labelId]),B=(0,react.useMemo)((()=>({open:0===o.comboboxState,disabled:o.disabled})),[o]),L={ref:y,id:O,role:"combobox",type:a,"aria-controls":null==(I=o.optionsRef.current)?void 0:I.id,"aria-expanded":o.disabled?void 0:0===o.comboboxState,"aria-activedescendant":null===o.activeOptionIndex||null==(V=o.options[o.activeOptionIndex])?void 0:V.id,"aria-multiselectable":1===o.mode||void 0,"aria-labelledby":T,disabled:o.disabled,onKeyDown:c,onChange:s};return(0,render.sY)({ourProps:L,theirProps:m,slot:B,defaultTag:"input",name:"Combobox.Input"})})),Ne=(0,render.yV)((function(l,n){var c;let e=w("Combobox.Button"),i=N("Combobox.Button"),r=(0,use_sync_refs.T)(e.buttonRef,n),a=`headlessui-combobox-button-${(0,use_id.M)()}`,m=(0,use_disposables.G)(),o=(0,use_event.z)((s=>{switch(s.key){case keyboard.R.ArrowDown:return s.preventDefault(),s.stopPropagation(),1===e.comboboxState&&i.openCombobox(),m.nextFrame((()=>{var T;return null==(T=e.inputRef.current)?void 0:T.focus({preventScroll:!0})}));case keyboard.R.ArrowUp:return s.preventDefault(),s.stopPropagation(),1===e.comboboxState&&(i.openCombobox(),m.nextFrame((()=>{e.value||i.goToOption(calculate_active_index.T.Last)}))),m.nextFrame((()=>{var T;return null==(T=e.inputRef.current)?void 0:T.focus({preventScroll:!0})}));case keyboard.R.Escape:return 0!==e.comboboxState?void 0:(s.preventDefault(),e.optionsRef.current&&!e.optionsPropsRef.current.static&&s.stopPropagation(),i.closeCombobox(),m.nextFrame((()=>{var T;return null==(T=e.inputRef.current)?void 0:T.focus({preventScroll:!0})})));default:return}})),u=(0,use_event.z)((s=>{if((0,bugs.P)(s.currentTarget))return s.preventDefault();0===e.comboboxState?i.closeCombobox():(s.preventDefault(),i.openCombobox()),m.nextFrame((()=>{var T;return null==(T=e.inputRef.current)?void 0:T.focus({preventScroll:!0})}))})),y=(0,use_computed.v)((()=>{if(e.labelId)return[e.labelId,a].join(" ")}),[e.labelId,a]),O=(0,react.useMemo)((()=>({open:0===e.comboboxState,disabled:e.disabled,value:e.value})),[e]),x=l,C={ref:r,id:a,type:(0,use_resolve_button_type.f)(l,e.buttonRef),tabIndex:-1,"aria-haspopup":!0,"aria-controls":null==(c=e.optionsRef.current)?void 0:c.id,"aria-expanded":e.disabled?void 0:0===e.comboboxState,"aria-labelledby":y,disabled:e.disabled,onClick:u,onKeyDown:o};return(0,render.sY)({ourProps:C,theirProps:x,slot:O,defaultTag:"button",name:"Combobox.Button"})})),je=(0,render.yV)((function(l,n){let e=w("Combobox.Label"),i=`headlessui-combobox-label-${(0,use_id.M)()}`,r=N("Combobox.Label"),a=(0,use_sync_refs.T)(e.labelRef,n);(0,use_iso_morphic_effect.e)((()=>r.registerLabel(i)),[i]);let m=(0,use_event.z)((()=>{var O;return null==(O=e.inputRef.current)?void 0:O.focus({preventScroll:!0})})),o=(0,react.useMemo)((()=>({open:0===e.comboboxState,disabled:e.disabled})),[e]);return(0,render.sY)({ourProps:{ref:a,id:i,onClick:m},theirProps:l,slot:o,defaultTag:"label",name:"Combobox.Label"})})),We=render.AN.RenderStrategy|render.AN.Static,Xe=(0,render.yV)((function(l,n){var C;let{hold:e=!1,...i}=l,r=w("Combobox.Options"),a=(0,use_sync_refs.T)(r.optionsRef,n),m=`headlessui-combobox-options-${(0,use_id.M)()}`,o=(0,open_closed.oJ)(),u=null!==o?o===open_closed.ZM.Open:0===r.comboboxState;(0,use_iso_morphic_effect.e)((()=>{var c;r.optionsPropsRef.current.static=null!=(c=l.static)&&c}),[r.optionsPropsRef,l.static]),(0,use_iso_morphic_effect.e)((()=>{r.optionsPropsRef.current.hold=e}),[r.optionsPropsRef,e]),function F({container:e,accept:t,walk:r,enabled:c=!0}){let o=(0,react.useRef)(t),l=(0,react.useRef)(r);(0,react.useEffect)((()=>{o.current=t,l.current=r}),[t,r]),(0,use_iso_morphic_effect.e)((()=>{if(!e||!c)return;let n=(0,owner.r)(e);if(!n)return;let f=o.current,p=l.current,d=Object.assign((i=>f(i)),{acceptNode:f}),u=n.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,d,!1);for(;u.nextNode();)p(u.currentNode)}),[e,c,o,l])}({container:r.optionsRef.current,enabled:0===r.comboboxState,accept:c=>"option"===c.getAttribute("role")?NodeFilter.FILTER_REJECT:c.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT,walk(c){c.setAttribute("role","none")}});let y=(0,use_computed.v)((()=>{var c,s;return null!=(s=r.labelId)?s:null==(c=r.buttonRef.current)?void 0:c.id}),[r.labelId,r.buttonRef.current]),O=(0,react.useMemo)((()=>({open:0===r.comboboxState})),[r]),x={"aria-activedescendant":null===r.activeOptionIndex||null==(C=r.options[r.activeOptionIndex])?void 0:C.id,"aria-labelledby":y,role:"listbox",id:m,ref:a};return(0,render.sY)({ourProps:x,theirProps:i,slot:O,defaultTag:"ul",features:We,visible:u,name:"Combobox.Options"})})),Je=(0,render.yV)((function(l,n){var A,M;let{disabled:e=!1,value:i,...r}=l,a=w("Combobox.Option"),m=N("Combobox.Option"),o=`headlessui-combobox-option-${(0,use_id.M)()}`,u=null!==a.activeOptionIndex&&a.options[a.activeOptionIndex].id===o,y=a.isSelected(i),O=(0,react.useRef)(null),x=(0,use_latest_value.E)({disabled:e,value:i,domRef:O,textValue:null==(M=null==(A=O.current)?void 0:A.textContent)?void 0:M.toLowerCase()}),C=(0,use_sync_refs.T)(n,O),c=(0,use_event.z)((()=>m.selectOption(o)));(0,use_iso_morphic_effect.e)((()=>m.registerOption(o,x)),[x,o]);let s=(0,react.useRef)(!a.__demoMode);(0,use_iso_morphic_effect.e)((()=>{if(!a.__demoMode)return;let p=(0,disposables.k)();return p.requestAnimationFrame((()=>{s.current=!0})),p.dispose}),[]),(0,use_iso_morphic_effect.e)((()=>{if(0!==a.comboboxState||!u||!s.current||0===a.activationTrigger)return;let p=(0,disposables.k)();return p.requestAnimationFrame((()=>{var h,H;null==(H=null==(h=O.current)?void 0:h.scrollIntoView)||H.call(h,{block:"nearest"})})),p.dispose}),[O,u,a.comboboxState,a.activationTrigger,a.activeOptionIndex]);let T=(0,use_event.z)((p=>{if(e)return p.preventDefault();c(),0===a.mode&&m.closeCombobox()})),B=(0,use_event.z)((()=>{if(e)return m.goToOption(calculate_active_index.T.Nothing);m.goToOption(calculate_active_index.T.Specific,o)})),L=(0,use_event.z)((()=>{e||u||m.goToOption(calculate_active_index.T.Specific,o,0)})),I=(0,use_event.z)((()=>{e||!u||a.optionsPropsRef.current.hold||m.goToOption(calculate_active_index.T.Nothing)})),V=(0,react.useMemo)((()=>({active:u,selected:y,disabled:e})),[u,y,e]);return(0,render.sY)({ourProps:{id:o,ref:C,role:"option",tabIndex:!0===e?void 0:-1,"aria-disabled":!0===e||void 0,"aria-selected":y,disabled:void 0,onClick:T,onFocus:B,onPointerMove:L,onMouseMove:L,onPointerLeave:I,onMouseLeave:I},theirProps:r,slot:V,defaultTag:"li",name:"Combobox.Option"})})),Lo=Object.assign(we,{Input:Ue,Button:Ne,Label:je,Options:Xe,Option:Je});var transition=__webpack_require__("../node_modules/@headlessui/react/dist/components/transitions/transition.js"),ChevronDownIcon=__webpack_require__("../node_modules/@heroicons/react/24/solid/esm/ChevronDownIcon.js"),CheckIcon=__webpack_require__("../node_modules/@heroicons/react/24/solid/esm/CheckIcon.js"),classnames=__webpack_require__("../node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),jsx_runtime=__webpack_require__("../node_modules/react/jsx-runtime.js"),_excluded=["label","options","name","size","value","openOnFocus","block","labelHidden"];function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var SoCombobox=function SoCombobox(_ref){var label=_ref.label,options=_ref.options,_ref$size=(_ref.name,_ref.size),size=void 0===_ref$size?"base":_ref$size,_ref$value=_ref.value,value=void 0===_ref$value?options[0]:_ref$value,_ref$block=(_ref.openOnFocus,_ref.block),block=void 0!==_ref$block&&_ref$block,_ref$labelHidden=_ref.labelHidden,labelHidden=void 0!==_ref$labelHidden&&_ref$labelHidden,props=_objectWithoutProperties(_ref,_excluded),_useState2=_slicedToArray((0,react.useState)(""),2),query=_useState2[0],setQuery=_useState2[1],filteredOptions=""===query?options:options.filter((function(option){return option.label.toLowerCase().includes(query.toLowerCase())})),inputChange=function inputChange(event){return setQuery(event.target.value)},inputDisplayValue=function inputDisplayValue(option){return(null==option?void 0:option.label)||value.label};return(0,jsx_runtime.jsx)(Lo,Object.assign({},props,{children:function children(_ref2){var open=_ref2.open;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(Lo.Label,{className:classnames_default()("block","font-medium","text-gray-700","mb-1",{"sr-only":labelHidden}),children:label}),(0,jsx_runtime.jsxs)("div",{className:classnames_default()("relative","cursor-default","rounded-lg","border","inline-flex","items-center","border-gray-300","bg-white","text-left","transition","hover:shadow-lg","hover:shadow-gray-200","text-"+size,{"w-full":block}),children:[(null==value?void 0:value.image)&&(0,jsx_runtime.jsx)("img",{src:value.image.src,alt:"",className:"ml-3 h-6 w-6 flex-shrink-0 rounded-full object-cover"}),(0,jsx_runtime.jsx)(Lo.Input,{className:classnames_default()("border-none","p-3","pl-3","pr-10","bg-transparent","text-gray-900","focus:ring-0","text-"+size,{"w-full":block}),displayValue:inputDisplayValue,onChange:inputChange}),(0,jsx_runtime.jsx)(Lo.Button,{className:"absolute inset-y-0 right-0 flex items-center pr-2",children:(0,jsx_runtime.jsx)(ChevronDownIcon.Z,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})})]}),(0,jsx_runtime.jsx)(transition.u,{show:open,as:react.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",afterLeave:function afterLeave(){return setQuery("")},children:(0,jsx_runtime.jsx)(Lo.Options,{static:!0,className:classnames_default()("absolute","z-10","mt-1","max-h-56","overflow-auto","rounded-lg","bg-white","py-1","shadow-lg","ring-1","ring-black","ring-opacity-5","focus:outline-none","text-"+size,{"w-full":block}),children:0===filteredOptions.length&&""!==query?(0,jsx_runtime.jsx)("div",{className:"relative cursor-default select-none py-2 px-4 text-gray-700",children:"Nothing found."}):filteredOptions.map((function(option){return(0,jsx_runtime.jsx)(Lo.Option,{className:function className(_ref3){var active=_ref3.active;return classnames_default()(active?"text-white bg-so-color-accent-2-primary-500":"text-gray-900","relative cursor-default select-none py-2 pl-3 pr-12")},value:option,children:function children(_ref4){var selected=_ref4.selected,active=_ref4.active;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)("div",{className:"flex items-center",children:[(null==option?void 0:option.image)&&(0,jsx_runtime.jsx)("img",{src:option.image.src,alt:"",className:"h-6 w-6 flex-shrink-0 rounded-full object-cover"}),(0,jsx_runtime.jsx)("span",{className:classnames_default()(active?"font-semibold":"font-normal","truncate",{"ml-3":value.image}),children:option.label})]}),selected&&(0,jsx_runtime.jsx)("span",{className:classnames_default()("absolute inset-y-0 right-0 flex items-center pr-4"),children:(0,jsx_runtime.jsx)(CheckIcon.Z,{className:"h-5 w-5","aria-hidden":"true"})})]})}},option.label)}))})})]})}}))};SoCombobox.displayName="SoCombobox";try{SoCombobox.displayName="SoCombobox",SoCombobox.__docgenInfo={description:"Comboboxes are the foundation of accessible autocompletes and command palettes, complete with robust support for keyboard navigation.\nUse the `SoCombobox` instead of the `SoSelect` whenever you have more than only a couple of options. The Combobox allows a more fine\ngrained search over all options compared to the select.",displayName:"SoCombobox",props:{label:{defaultValue:null,description:"The select's label elements",name:"label",required:!0,type:{name:"string"}},options:{defaultValue:null,description:"Options available for selection",name:"options",required:!0,type:{name:"SoComboboxItem[]"}},value:{defaultValue:{value:"options[0]"},description:"The selected/current value",name:"value",required:!1,type:{name:"SoComboboxItem"}},onChange:{defaultValue:null,description:"Emits the selected value on change",name:"onChange",required:!1,type:{name:"(value: SoComboboxItem) => void"}},openOnFocus:{defaultValue:{value:"true"},description:"If true, the options get visible when the user focuses the text field",name:"openOnFocus",required:!1,type:{name:"boolean"}},block:{defaultValue:{value:"false"},description:"Render full width",name:"block",required:!1,type:{name:"boolean"}},labelHidden:{defaultValue:{value:"false"},description:"If true, the label is visually hidden. It will still be available to screenreaders.",name:"labelHidden",required:!1,type:{name:"boolean"}},size:{defaultValue:{value:"base"},description:"Visual size of the button",name:"size",required:!1,type:{name:"enum",value:[{value:'"base"'},{value:'"xl"'}]}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/combobox/Combobox.tsx#SoCombobox"]={docgenInfo:SoCombobox.__docgenInfo,name:"SoCombobox",path:"src/components/combobox/Combobox.tsx#SoCombobox"})}catch(__react_docgen_typescript_loader_error){}function Combobox_stories_slicedToArray(arr,i){return function Combobox_stories_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function Combobox_stories_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function Combobox_stories_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return Combobox_stories_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Combobox_stories_arrayLikeToArray(o,minLen)}(arr,i)||function Combobox_stories_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Combobox_stories_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}const Combobox_stories={component:SoCombobox,argTypes:{block:{defaultValue:!1,description:"If true, the control will be rendered with 100% width",control:{type:"boolean"}},labelHidden:{defaultValue:!1,description:"If true, the label is only available to screenreaders, but visually hidden.",control:{type:"boolean"}},size:{defaultValue:"base",options:["base","xl"],control:{type:"select"}}}};var Template=function Template(args){var _args,options=(null===(_args=args)||void 0===_args?void 0:_args.options)||[{label:"Option 1"},{label:"Option 2"},{label:"Option 3"}],_useState2=Combobox_stories_slicedToArray((0,react.useState)(options[0]),2),value=_useState2[0],setValue=_useState2[1];return args=Object.assign({label:"Select Label",value,options},args,{onChange:function onChange(selectedItem){setValue(selectedItem)}}),(0,jsx_runtime.jsx)(SoCombobox,Object.assign({},args))};Template.displayName="Template";var Standard=Template.bind({}),WithImages=Template.bind({});WithImages.args={label:"Country Selector Example",options:[{label:"Option 1",image:{src:"/public/ch.svg"}},{label:"Option 2",image:{src:"/public/ch.svg"}},{label:"Option 3",image:{src:"/public/ch.svg"}}]},Standard.parameters=Object.assign({storySource:{source:"(args: SoComboboxProps) => {\n\tconst options: SoComboboxProps['options'] = args?.options || [\n\t\t{\n\t\t\tlabel: 'Option 1',\n\t\t},\n\t\t{\n\t\t\tlabel: 'Option 2',\n\t\t},\n\t\t{\n\t\t\tlabel: 'Option 3',\n\t\t},\n\t];\n\n\tconst [value, setValue] = useState(options[0]);\n\n\targs = {\n\t\tlabel: 'Select Label',\n\t\tvalue,\n\t\toptions,\n\t\t...args,\n\t\tonChange: (selectedItem) => {\n\t\t\tsetValue(selectedItem);\n\t\t},\n\t};\n\n\treturn <SoCombobox {...args} />;\n}"}},Standard.parameters),WithImages.parameters=Object.assign({storySource:{source:"(args: SoComboboxProps) => {\n\tconst options: SoComboboxProps['options'] = args?.options || [\n\t\t{\n\t\t\tlabel: 'Option 1',\n\t\t},\n\t\t{\n\t\t\tlabel: 'Option 2',\n\t\t},\n\t\t{\n\t\t\tlabel: 'Option 3',\n\t\t},\n\t];\n\n\tconst [value, setValue] = useState(options[0]);\n\n\targs = {\n\t\tlabel: 'Select Label',\n\t\tvalue,\n\t\toptions,\n\t\t...args,\n\t\tonChange: (selectedItem) => {\n\t\t\tsetValue(selectedItem);\n\t\t},\n\t};\n\n\treturn <SoCombobox {...args} />;\n}"}},WithImages.parameters);var __namedExportsOrder=["Standard","WithImages"]}}]);